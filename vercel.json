{
  "version": 2,
  "builds": [
    {
      "src": "frontend/package.json",
      "use": "@vercel/static-build",
      "config": { "distDir": "build" }
    },
    {
      "src": "backend/*.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    // 1) Wszystko co trafia na /api/* idzie do naszych funkcji
    { "src": "/api/(.*)",     "dest": "backend/$1.py" },

    // 2) Pozwól Vercel obsłużyć pliki ze statycznego build/
    { "handle": "filesystem" },

    // 3) Dla pozostałych ścieżek (SPA routing) serwuj index.html
    { "src": "/(.*)",         "dest": "/index.html" }
  ]
}
